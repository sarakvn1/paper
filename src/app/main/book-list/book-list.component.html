<app-header></app-header>
<div class="book-store">

       
    <div class="main-wrapper">
    
     <div class="popular-books">
      <div class="main-menu">
       <div class="genre">{{'main.popularByGenre'|translate}}</div>
       <div class="book-types" [ngStyle]="{ 'margin-left': this.apiService.currentDir === 'rtl'? 'unset': 'auto','margin-right': this.apiService.currentDir === 'rtl'? 'auto': 'unset'}">
        <a [ngStyle]="{ 'margin-left': this.apiService.currentDir === 'rtl'? '18px': 'auto'}" (click)="getAllBooks()" class="book-type active"> {{'main.allGenres'|translate}}</a>
        <a (click)="getGenreBooks(genre.id)" class="book-type" *ngFor="let genre of genres" > {{genre.name}}</a>
       
       </div>

      </div>
      <div class="book-cards">
       <div class="book-card" *ngFor="let book of books">
        <div class="content-wrapper" [ngStyle]="{ 'text-align': this.apiService.currentDir === 'rtl'? 'right': 'left','margin-right': this.apiService.currentDir === 'rtl'? '15px': '0'}">
          <!-- <img (click)="bookClicked(book)" src="https://imagesvc.meredithcorp.io/v3/mm/image?url=https%3A%2F%2Fstatic.onecms.io%2Fwp-content%2Fuploads%2Fsites%2F6%2F2019%2F07%2Fchances-are-1-2000.jpg&q=85" alt="" class="book-card-img"> -->
          <img (click)="bookClicked(book)" src="{{book.image}}" alt="" class="book-card-img">
        <div class="card-content">
            <div class="book-name">{{book.title}}</div>
            <div class="book-by">{{'main.by'|translate}} 
              <span *ngFor="let author of book.author">
                  {{author}}{{'comma'|translate}}
              </span> </div>
              <!-- <app-rate [bookId]="book.id" ></app-rate> -->
              <div class="rate">
                <fa-icon [icon]="faStar" [ngClass]="{'orange':book.avg_ratings>=1}"></fa-icon>
                <fa-icon [icon]="faStar" [ngClass]="{'orange':book.avg_ratings>=2}"></fa-icon>
                <fa-icon [icon]="faStar" [ngClass]="{'orange':book.avg_ratings>=3}"></fa-icon>
                <fa-icon [icon]="faStar" [ngClass]="{'orange':book.avg_ratings>=4}"></fa-icon>
                <fa-icon [icon]="faStar" [ngClass]="{'orange':book.avg_ratings>=5}"></fa-icon>
              </div>
            <div class="book-sum card-sum">{{book.summary}} </div>
            <div class="show-details">
              <button type="button" [routerLink]="['/books', book.id]" class="button secondary small" data-toggle="modal" data-target="#exampleModalCenter">
                {{'main.showDetails'|translate}}
             </button>
                  <button (click)="add(book)" class="button  small">{{'detail.addToCart'|translate}}</button>

            </div>
        </div>
           
        
       </div>
       
       </div>
       
       
      </div>
     </div>
    </div>
   </div>